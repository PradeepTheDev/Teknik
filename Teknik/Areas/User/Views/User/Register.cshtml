@model Teknik.Areas.Users.ViewModels.RegisterViewModel

@if (Model.Config.UserConfig.RegistrationEnabled)
{
    <div class="row">
        <div class="col-sm-12 text-center">
            <div id="registerStatus">
                @if (Model.Error)
                {
                    <div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>@Model.ErrorMessage</div>
                }
            </div>
        </div>
    </div>
    <form role="form" id="registrationForm" action="@Url.SubRouteUrl("user", "User.Register")" method="post" accept-charset="UTF-8">
        <input name="Register.ReturnUrl" id="registerReturnUrl" type="hidden" value="@Model.ReturnUrl" />
        <div class="form-group">
            <input type="text" class="form-control" id="registerUsername" value="" placeholder="Username" name="Register.Username" data-val-required="The Username field is required." data-val="true"/>
        </div>
        <div class="form-group">
            <input type="password" class="form-control" id="registerPassword" value="" placeholder="Password" name="Register.Password" data-val-required="The Password field is required." data-val="true"/>
        </div>
        <div class="form-group">
            <input type="password" class="form-control" id="registerConfirmPassword" value="" placeholder="Confirm Password" name="Register.ConfirmPassword" data-val-required="The Confirm Password field is required." data-val="true" />
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="registerRecoveryEmail" value="" placeholder="Recovery Email (Optional)" name="Register.RecoveryEmail" />
        </div>
        <div class="form-group">
            <textarea class="form-control" id="registerPublicKey" name="Register.PublicKey" placeholder="PGP Public Key (Optional)" title="enter your pgp public key" rows="5"></textarea>
        </div>
        <p class="text-center">
            <small>
                Username must meet the following requirements: <var>@Model.Config.UserConfig.UsernameFilterLabel</var><br />
                and the length must be greater than <b>@Model.Config.UserConfig.MinUsernameLength</b> and less than <b>@Model.Config.UserConfig.MaxUsernameLength</b> characters
            </small>
        </p>
        <p class="text-center">
            By registering for Teknik, you agree to the <a href="@Url.SubRouteUrl("tos", "TOS.Index")" target="_blank">Terms of Service</a>.
        </p>
        <div class="form-group text-center">
            <button class="btn btn-primary" id="registerSubmit" type="submit" name="Register.Submit">Sign Up</button>
        </div>
    </form>
}
else
{
<h3>Registration has been disabled</h3>
}